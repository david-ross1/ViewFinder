(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,n){},143:function(e,t){console.log("Hi, I'm the frontend keyfile!"),console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MAPBOX_API),e.exports={nodeEnv:"production",mongoURI:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MONGO_URI,secretOrKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SECRET_OR_KEY,awsFileUrlLink:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AWS_FILE_URL_LINK,awsAccessKeyId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AWS_ACCESS_KEY_ID,awsSecretAccessKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AWS_SECRET_ACCESS_KEY,awsBucketName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AWS_BUCKET_NAME,awsRegion:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AWS_REGION,mapboxAPI:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MAPBOX_API}},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),r=n(42),o=n.n(r),i=n(8),a=n(24),u=n(76),l=n(15),j=n(13),d=n(1),b=["component","loggedIn"],m=function(e){return{loggedIn:e.session.isAuthenticated}},h=(Object(j.g)(Object(i.b)(m)((function(e){var t=e.component,n=e.path,s=e.loggedIn,c=e.exact;return Object(d.jsx)(j.b,{path:n,exact:c,render:function(e){return s?Object(d.jsx)(j.a,{to:"/comments"}):Object(d.jsx)(t,Object(l.a)({},e))}})}))),Object(j.g)(Object(i.b)(m)((function(e){var t=e.component,n=e.loggedIn,s=Object(u.a)(e,b);return Object(d.jsx)(j.b,Object(l.a)(Object(l.a)({},s),{},{render:function(e){return n?Object(d.jsx)(t,Object(l.a)({},e)):Object(d.jsx)(j.a,{to:"/"})}}))})))),O=n(21),p=n.n(O),f=function(e){e?p.a.defaults.headers.common.Authorization=e:delete p.a.defaults.headers.common.Authorization},x=n(44),v="RECEIVE_CURRENT_USER",g="RECEIVE_SESSION_ERRORS",S="RECEIVE_USER_LOGOUT",N="RECEIVE_USER_SIGN_IN",E=function(e){return{type:g,errors:e}},_=function(e){return function(t){return(n=e,p.a.post("/api/users/register",n)).then((function(){return t({type:N})}),(function(e){return t(E(e.response.data))}));var n}},w=function(e){return function(t){return(n=e,p.a.post("/api/users/login",n)).then((function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),f(n);var s=Object(x.a)(n);t({type:v,currentUser:s})})).catch((function(e){t(E(e.response.data))}));var n}},C=function(){return function(e){localStorage.removeItem("jwtToken"),f(!1),e({type:S})}},y="OPEN_MODAL",k="CLOSE_MODAL",T=function(e){return{type:y,modal:e}},I=function(){return{type:k}},R=n(9),A=n(10),D=n(14),U=n(12),P=n(11),L=(n(107),n(56)),W=function(e){Object(U.a)(n,e);var t=Object(P.a)(n);function n(e){var s;return Object(R.a)(this,n),(s=t.call(this,e)).handleClick=function(){s.setState({navigate:!0})},s.state={navigate:!1},s.logoutUser=s.logoutUser.bind(Object(D.a)(s)),s.getLinks=s.getLinks.bind(Object(D.a)(s)),s}return Object(A.a)(n,[{key:"logoutUser",value:function(e){e.preventDefault(),this.props.logout()}},{key:"getLinks",value:function(){var e=this.props.openModal;return this.props.loggedIn?Object(d.jsx)("div",{className:"NavBar",children:Object(d.jsx)("div",{className:"comment-links",children:Object(d.jsxs)("div",{className:"t-link",children:[Object(d.jsx)(a.b,{className:"link",to:"/",children:"All Comments"}),Object(d.jsx)(a.b,{className:"link",to:"/",children:"Write a Comment"}),Object(d.jsx)("div",{className:"logout-button",children:Object(d.jsx)("button",{className:"logout",onClick:this.logoutUser,children:Object(d.jsx)(L.b,{})})})]})})}):Object(d.jsx)("div",{className:"session-container",children:Object(d.jsx)("div",{className:"NavBar Links2",children:Object(d.jsx)("button",{onClick:function(){return e("login")},className:"nav-button-login",children:Object(d.jsx)(L.a,{})})})})}},{key:"render",value:function(){return Object(d.jsx)("div",{className:"logotainer",children:Object(d.jsx)("div",{className:"main-logo",children:Object(d.jsxs)("div",{className:"loogo",children:[Object(d.jsx)(a.b,{to:"/",className:"logo-link",children:"ViewFinder"}),this.getLinks()]})})})}}]),n}(c.a.Component),K=Object(i.b)((function(e){return{loggedIn:e.session.isAuthenticated}}),(function(e){return{logout:function(){return e(C())},openModal:function(t){return e(T(t))}}}))(W),F="RECEIVE_COMMENTS",V="RECEIVE_USER_COMMENTS",M="RECEIVE_NEW_COMMENT",H=function(){return function(e){return p.a.get("/api/comments").then((function(t){return e(function(e){return{type:F,comments:e}}(t))})).catch((function(e){return console.log(e)}))}},B=function(e){return function(t){return function(e){return p.a.get("/api/comments/user/".concat(e))}(e).then((function(e){return t(function(e){return{type:V,comments:e}}(e))})).catch((function(e){return console.log(e)}))}},z=function(e){return function(t){return function(e){return p.a.post("/api/comments/",e)}(e).then((function(e){return t(function(e){return{type:M,comment:e}}(e))})).catch((function(e){return console.log(e)}))}},G=(n(66),function(e){Object(U.a)(n,e);var t=Object(P.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(A.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"comment-text",children:Object(d.jsx)("h3",{children:this.props.text})})}}]),n}(c.a.Component)),q=function(e){Object(U.a)(n,e);var t=Object(P.a)(n);function n(e){var s;return Object(R.a)(this,n),(s=t.call(this,e)).state={comments:[]},s}return Object(A.a)(n,[{key:"componentWillMount",value:function(){this.props.fetchComments()}},{key:"componentWillReceiveProps",value:function(e){this.setState({comments:e.comments})}},{key:"render",value:function(){return 0===this.state.comments.length?Object(d.jsx)("div",{className:"comment-text",children:"Be the first to comment"}):Object(d.jsxs)("div",{className:"comment-header",children:[Object(d.jsx)("h2",{children:"All Comments"}),this.state.comments.map((function(e){return Object(d.jsx)(G,{text:e.text},e._id)}))]})}}]),n}(c.a.Component),J=Object(j.g)(q),X=Object(i.b)((function(e){return{comments:Object.values(e.comments.all)}}),(function(e){return{fetchComments:function(){return e(H())}}}))(J),Y="RECEIVE_VIEWS",Q="RECEIVE_FULL_VIEW_DATA",Z=function(e){return{type:Q,view:e}},$=function(){return function(e){return p.a.get("/api/views/").then((function(t){return e((n=t.data,{type:Y,geoJSON:n}));var n}))}},ee=function(e){return function(t){return function(e){return p.a.get("/api/views/".concat(e))}(e).then((function(e){return t(Z(e.data))}))}},te=function(e){return function(t){return function(e){return p.a.post("/api/views/",e)}(e).then((function(e){return t(Z(e.data))}))}},ne=n(29),se=(n(108),n(50),n(36)),ce=n(53),re=n.n(ce),oe=n(45),ie=n.n(oe),ae=n(28),ue=(n(144),{bucketName:"view-finder",region:"us-west-1",accessKeyId:ae.awsAccessKeyId,secretAccessKey:ae.awsSecretAccessKey}),le=new ie.a(ue),je=function(e){var t=e.fetchViews,n=e.longitude,c=e.latitude,r=e.createView,o=e.setDisplayLocationForm,i=Object(s.useState)(""),a=Object(ne.a)(i,2),u=a[0],l=a[1],j=Object(s.useState)(""),b=Object(ne.a)(j,2),m=b[0],h=b[1],O=[];return Object(d.jsxs)("form",{className:"new-location-form",onSubmit:function(e){e.preventDefault(),r({longitude:n,latitude:c,locationName:u,description:m,photos:O}).then(t),o(!1)},children:[Object(d.jsxs)("label",{children:[Object(d.jsx)("h2",{children:"Name:"}),Object(d.jsx)("input",{value:u,onChange:function(e){return l(e.target.value)}})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("h2",{children:"Description:"}),Object(d.jsx)("input",{value:m,onChange:function(e){return h(e.target.value)}})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("label",{children:["Images:",Object(d.jsx)("input",{type:"file",onChange:function(e){le.uploadFile(e.target.files[0],"".concat(n.toFixed(4),",").concat(c.toFixed(4),"-").concat(O.length)).then((function(e){O.push({s3Link:e.location})})).catch((function(e){alert(e)}))}})]}),Object(d.jsx)("button",{children:"Create View"})]})},de=Object(i.b)(null,(function(e){return{createView:function(t){return e(te(t))}}}))(je),be=(n(145),n(28).mapboxAPI),me=(n(28).nodeEnv,function(){return Object(d.jsx)("svg",{className:["one","two","three","four","zero"][Math.floor(5*Math.random())]+" offset",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(d.jsx)("path",{d:"M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z"})})}),he=function(e){var t=e.geoJSON,n=e.focusId,c=e.fetchViews,r=e.fetchView,o=Object(s.useState)(null),i=Object(ne.a)(o,2),a=i[0],u=i[1],j=Object(s.useState)(!1),b=Object(ne.a)(j,2),m=b[0],h=b[1],O=Object(s.useState)({latitude:37.807,longitude:-122.25,zoom:8}),p=Object(ne.a)(O,2),f=p[0],x=p[1],v=Object(s.useState)(!1),g=Object(ne.a)(v,2),S=g[0],N=g[1];return Object(s.useEffect)((function(){c()}),[c]),Object(d.jsxs)("div",{className:"map",children:[Object(d.jsxs)(se.d,Object(l.a)(Object(l.a)({mapStyle:"mapbox://styles/kerapace/ckpwz1oel3dqt17mvkiquuo75",mapboxApiAccessToken:be},f),{},{width:"100%",height:"100%",onViewportChange:function(e){return x(e)},onClick:function(e){return S?function(e){u({longitude:e.lngLat[0],latitude:e.lngLat[1]}),h(!0)}(e):""},children:[t.features?t.features.map((function(e){return Object(d.jsx)(se.a,{longitude:e.geometry.coordinates[0],latitude:e.geometry.coordinates[1],className:re()("view-location",{selected:e.geometry.properties.id===n}),onClick:function(t){r(e.geometry.properties.id),t.stopPropagation()},children:Object(d.jsx)(me,{className:"map-pin"})},e.geometry.properties.id)})):"",null===a?"":Object(d.jsx)(se.a,Object(l.a)(Object(l.a)({className:"view-location new selected"},a),{},{children:Object(d.jsx)(me,{className:"selected-pin"})}),"new"),m&&null!==a?Object(d.jsx)(se.c,Object(l.a)(Object(l.a)({},a),{},{closeButton:!1,children:Object(d.jsx)(de,Object(l.a)({fetchViews:c,fetchView:r,setDisplayLocationForm:h},a))})):"",Object(d.jsx)(se.b,{style:{top:"10px",left:"10px"}})]})),Object(d.jsx)("div",{className:"place-marker-text",children:Object(d.jsx)("button",{className:"new-location-button",onClick:function(){u(null),N(!S)},children:"Place New Location"})})]})},Oe=Object(i.b)((function(e){return{geoJSON:e.views.mapDisplay,focusId:e.views.focusId}}),(function(e){return{fetchViews:function(){return e($())},fetchView:function(t){return e(ee(t))}}}))(he),pe=(n(146),n(147),n(74)),fe=n.n(pe),xe=(n(181),function(e){Object(U.a)(n,e);var t=Object(P.a)(n);function n(){var e;return Object(R.a)(this,n),(e=t.call(this)).onSlideChanged=function(t){return e.setState({currentIndex:t.item})},e.slideNext=function(){return e.setState({currentIndex:e.state.currentIndex+1})},e.slidePrev=function(){return e.setState({currentIndex:e.state.currentIndex-1})},e.state={currentIndex:0},e.slideTo=e.slideTo.bind(Object(D.a)(e)),e}return Object(A.a)(n,[{key:"slideTo",value:function(e){this.setState({currentIndex:e})}},{key:"renderThumbs",value:function(){var e=this;return this.props.photos?Object(d.jsx)("ul",{className:"thumb-bar",children:this.props.photos.map((function(t,n){return Object(d.jsx)("li",{className:"thumbs",onClick:function(t){return e.slideTo(t)},children:Object(d.jsx)("img",{src:t.s3Link})},n)}))}):Object(d.jsx)("div",{children:" "})}},{key:"renderGallery",value:function(){var e=this.state.currentIndex;return Object(d.jsx)(fe.a,{dotsDisabled:!0,buttonsDisabled:!1,slideToIndex:e,onSlideChanged:this.onSlideChanged,children:this.props.photos?this.props.photos.map((function(e,t){return Object(d.jsx)("div",{className:"photos",children:Object(d.jsx)("h2",{children:Object(d.jsx)("img",{className:"photo",src:e.s3Link})})},t)})):""})}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[this.renderThumbs(),this.renderGallery()]})}}]),n}(c.a.Component)),ve=function(e){var t=e.focusView;return 0===Object.values(t).length?"":Object(d.jsxs)("section",{className:"sidebar",children:[Object(d.jsx)("div",{className:"picture-carousel",children:Object(d.jsx)(xe,{photos:t.photos})}),Object(d.jsx)("h2",{className:"view-name",children:t.locationName}),Object(d.jsx)("p",{className:"view-desc",children:t.description})]})},ge=Object(i.b)((function(e){return{focusView:e.views.sidebar}}),(function(e){return{}}))(ve),Se=function(e){Object(U.a)(n,e);var t=Object(P.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(A.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"main-body",children:[Object(d.jsx)("div",{className:"map-container",children:Object(d.jsx)(Oe,{})}),Object(d.jsx)("div",{className:"side-section",children:Object(d.jsx)(ge,{})})]}),Object(d.jsx)("footer",{className:"body-footer",children:"Copyright \xa9 2021 ViewFinder"})]})}}]),n}(c.a.Component),Ne=(n(182),function(e){Object(U.a)(n,e);var t=Object(P.a)(n);function n(e){var s;return Object(R.a)(this,n),(s=t.call(this,e)).state={comments:[]},s}return Object(A.a)(n,[{key:"componentWillMount",value:function(){console.log(this.props.currentUser.id),this.props.fetchUserComments(this.props.currentUser.id)}},{key:"componentWillReceiveProps",value:function(e){this.setState({comments:e.comments})}},{key:"render",value:function(){return 0===this.state.comments.length?Object(d.jsx)("div",{children:"This user has no Comments"}):Object(d.jsxs)("div",{className:"all-user-comments",children:[Object(d.jsx)("h2",{children:"All of This User's Comments"}),this.state.comments.map((function(e){return Object(d.jsx)(G,{text:e.text},e._id)}))]})}}]),n}(c.a.Component)),Ee=Object(i.b)((function(e){return{comments:Object.values(e.comments.user),currentUser:e.session.user}}),(function(e){return{fetchUserComments:function(t){return e(B(t))}}}))(Ne),_e=function(e){Object(U.a)(n,e);var t=Object(P.a)(n);function n(e){var s;return Object(R.a)(this,n),(s=t.call(this,e)).state={text:"",newComment:""},s.handleSubmit=s.handleSubmit.bind(Object(D.a)(s)),s}return Object(A.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({newComment:e.newComment.text})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={text:this.state.text};this.props.composeComment(t),this.setState({text:""})}},{key:"update",value:function(){var e=this;return function(t){return e.setState({text:t.currentTarget.value})}}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"write-comment-container",children:[Object(d.jsx)("form",{onSubmit:this.handleSubmit,children:Object(d.jsxs)("div",{className:"write-comment",children:[Object(d.jsx)("input",{type:"textarea",value:this.state.text,onChange:this.update(),placeholder:"Write your comment...",className:"write-comment-input"}),Object(d.jsx)("input",{className:"write-comment-submit",type:"submit",value:"Submit"})]})}),Object(d.jsx)("br",{}),Object(d.jsx)(G,{text:this.state.newComment})]})}}]),n}(c.a.Component),we=Object(i.b)((function(e){return{currentUser:e.session.user,newComment:e.comments.new}}),(function(e){return{composeComment:function(t){return e(z(t))}}}))(_e),Ce=(n(183),function(e){Object(U.a)(n,e);var t=Object(P.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(A.a)(n,[{key:"render",value:function(){var e="https://open-uri.s3.us-west-1.amazonaws.com/others/GitHub-Mark.png",t="https://open-uri.s3.us-west-1.amazonaws.com/others/LinkedIn_UI-03-512.png";return Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("div",{className:"footer-component-block",children:Object(d.jsxs)("div",{className:"footer-component",children:[Object(d.jsxs)("div",{className:"footer-column",children:[Object(d.jsx)("h3",{className:"footer-header",children:"Jonathan Hill"}),Object(d.jsxs)("ul",{className:"footer-list",children:[Object(d.jsx)("p",{children:Object(d.jsx)("a",{href:"https://github.com/kerapace",className:"footer-links",children:Object(d.jsx)("img",{className:"footer-logo",src:e,alt:""})})}),Object(d.jsxs)("p",{className:"text-block",children:[Object(d.jsx)("img",{className:"footer-logo",src:t,alt:""}),"  "]})]})]}),Object(d.jsxs)("div",{className:"footer-column",children:[Object(d.jsx)("h3",{className:"footer-header",children:"David Ross"}),Object(d.jsxs)("ul",{className:"footer-list",children:[Object(d.jsx)("p",{children:Object(d.jsx)("a",{href:"https://github.com/david-ross1",className:"footer-links",children:Object(d.jsx)("img",{className:"footer-logo",src:e,alt:""})})}),Object(d.jsxs)("p",{className:"text-block",children:[Object(d.jsx)("img",{className:"footer-logo",src:t,alt:""}),"  "]})]})]}),Object(d.jsxs)("div",{className:"footer-column",children:[Object(d.jsx)("h3",{className:"footer-header",children:"Mohammad Ali"}),Object(d.jsxs)("ul",{className:"footer-list",children:[Object(d.jsx)("p",{children:Object(d.jsx)("a",{href:"https://github.com/mataghva",className:"footer-links",children:Object(d.jsx)("img",{className:"footer-logo",src:e,alt:""})})}),Object(d.jsx)("p",{children:Object(d.jsx)("a",{href:"www.linkedin.com/in/mohammad-ali-taghva-4b06b237",className:"footer-links",children:Object(d.jsx)("img",{className:"footer-logo",src:t,alt:""})})})]})]}),Object(d.jsxs)("div",{className:"footer-column",children:[Object(d.jsx)("h3",{className:"footer-header",children:"Alfredo Ramirez Mendez"}),Object(d.jsxs)("ul",{className:"footer-list",children:[Object(d.jsx)("p",{children:Object(d.jsx)("a",{href:"https://github.com/alfredorz6",className:"footer-links",children:Object(d.jsx)("img",{className:"footer-logo",src:e,alt:""})})}),Object(d.jsx)("p",{children:Object(d.jsx)("a",{href:"https://www.linkedin.com/in/alfredo-alejandro-ramirez-mendez-7aa552129/",className:"footer-links",children:Object(d.jsx)("img",{className:"footer-logo",src:t,alt:""})})})]})]})]})})})}}]),n}(c.a.Component)),ye=n(35),ke=(n(70),function(e){Object(U.a)(n,e);var t=Object(P.a)(n);function n(e){var s;return Object(R.a)(this,n),(s=t.call(this,e)).state={email:"",password:"",errors:{}},s.demoUser=s.demoUser.bind(Object(D.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(D.a)(s)),s.renderErrors=s.renderErrors.bind(Object(D.a)(s)),s.otherForm=s.otherForm.bind(Object(D.a)(s)),s}return Object(A.a)(n,[{key:"componentWillReceiveProps",value:function(e){!0===e.currentUser&&this.props.history.push("/comments"),this.setState({errors:e.errors})}},{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(ye.a)({},e,n.currentTarget.value))}}},{key:"otherForm",value:function(){this.props.otherForm()}},{key:"demoUser",value:function(e){e.preventDefault();this.props.login({email:"demo@demo.com",password:"123456"}).then(this.props.closeModal)}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.login(t).then(this.props.closeModal)}},{key:"renderErrors",value:function(){var e=this;return Object(d.jsx)("ul",{children:Object.keys(this.state.errors).map((function(t,n){return Object(d.jsx)("li",{children:e.state.errors[t]},"error-".concat(n))}))})}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"login-form-container",children:[Object(d.jsxs)("div",{className:"login-head",children:[Object(d.jsx)("button",{className:"sign-button",onClick:this.otherForm,children:Object(d.jsx)("p",{className:"button-text",children:"Sign Up"})}),Object(d.jsx)("button",{className:"close-button",onClick:this.props.closeModal,children:"X"})]}),Object(d.jsxs)("form",{className:"session-form-sign",onSubmit:this.handleSubmit,children:[this.renderErrors(),Object(d.jsxs)("div",{className:"login-form",children:[Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("label",{}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"login-text",type:"text",value:this.state.email,onChange:this.update("email"),placeholder:"Email",required:!0})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("label",{}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"login-text",type:"password",value:this.state.password,onChange:this.update("password"),placeholder:"Password",required:!0})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"submit button",type:"submit",value:"Submit"}),this.renderErrors(),Object(d.jsx)("br",{})," ",Object(d.jsxs)("div",{className:"demo-button",children:[" ",Object(d.jsxs)("button",{onClick:this.demoUser,className:"demo-submit",children:["Demo Login "," "]})," "]})]})]})]})}}]),n}(c.a.Component)),Te=Object(j.g)(ke),Ie=Object(i.b)((function(e){return{errors:e.errors.session}}),(function(e){return{login:function(t){return e(w(t))},otherForm:function(){return e(T("signup"))},closeModal:function(){return e(I())}}}))(Te),Re=function(e){Object(U.a)(n,e);var t=Object(P.a)(n);function n(e){var s;return Object(R.a)(this,n),(s=t.call(this,e)).state={email:"",name:"",password:"",password2:"",errors:{}},s.handleSubmit=s.handleSubmit.bind(Object(D.a)(s)),s.clearedErrors=!1,s.otherForm=s.otherForm.bind(Object(D.a)(s)),s.alert=s.alert.bind(Object(D.a)(s)),s}return Object(A.a)(n,[{key:"componentWillReceiveProps",value:function(e){!0===e.signedIn&&(this.props.otherForm(),this.alert()),this.setState({errors:e.errors})}},{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(ye.a)({},e,n.currentTarget.value))}}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,name:this.state.name,password:this.state.password,password2:this.state.password2};this.props.signup(t,this.props.history)}},{key:"renderErrors",value:function(){var e=this;return Object(d.jsx)("ul",{children:Object.keys(this.state.errors).map((function(t,n){return Object(d.jsx)("li",{children:e.state.errors[t]},"error-".concat(n))}))})}},{key:"otherForm",value:function(){this.props.otherForm()}},{key:"alert",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return alert("User Created")}))},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"login-form-container",children:[Object(d.jsxs)("div",{className:"login-head",children:[Object(d.jsx)("button",{className:"sign-button",onClick:this.otherForm,children:Object(d.jsx)("p",{className:"button-text",children:"Login"})}),Object(d.jsx)("button",{className:"close-button",onClick:this.props.closeModal,children:"X"})]}),Object(d.jsxs)("form",{className:"session-form-sign",onSubmit:this.handleSubmit,children:[this.renderErrors(),Object(d.jsxs)("div",{className:"login-form",children:[Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("label",{}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"login-text",type:"text",value:this.state.email,onChange:this.update("email"),placeholder:"Email",required:!0})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("label",{}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"login-text",type:"text",value:this.state.name,onChange:this.update("name"),placeholder:"Name",required:!0})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("label",{}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"login-text",type:"password",value:this.state.password,onChange:this.update("password"),placeholder:"Password",required:!0})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("label",{}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"login-text",type:"password",value:this.state.password2,onChange:this.update("password2"),placeholder:"Confirm Password",required:!0})]}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"submit button",type:"submit",value:"Submit"})]})]})]})}}]),n}(c.a.Component),Ae=Object(j.g)(Re),De=Object(i.b)((function(e){return{signedIn:e.session.isSignedIn,errors:e.errors.session}}),(function(e){return{signup:function(t){return e(_(t))},otherForm:function(){return e(T("login"))},closeModal:function(){return e(I())}}}))(Ae);n(184);var Ue=Object(i.b)((function(e){return{modal:e.ui.modal}}),(function(e){return{closeModal:function(){return e(I())}}}))((function(e){var t,n=e.modal,s=e.closeModal;if(!n)return null;switch(n){case"login":t=Object(d.jsx)(Ie,{});break;case"signup":t=Object(d.jsx)(De,{});break;default:return null}return Object(d.jsx)("div",{className:"modal-background",onClick:s,children:Object(d.jsx)("div",{className:"modal-child",onClick:function(e){return e.stopPropagation()},children:t})})})),Pe=(n(185),{bucketName:"view-finder",region:"us-west-1",accessKeyId:ae.awsAccessKeyId,secretAccessKey:ae.awsSecretAccessKey}),Le=new ie.a(Pe),We=(s.Component,function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(Ue,{}),Object(d.jsx)(K,{}),Object(d.jsxs)(j.d,{children:[Object(d.jsx)(j.b,{exact:!0,path:"/",component:Se}),Object(d.jsx)(h,{exact:!0,path:"/",component:X}),Object(d.jsx)(h,{exact:!0,path:"/",component:Ee}),Object(d.jsx)(h,{exact:!0,path:"/new_comment",component:we})]}),Object(d.jsx)(Ce,{})]})}),Ke=function(e){var t=e.store;return Object(d.jsx)(i.a,{store:t,children:Object(d.jsx)(a.a,{children:Object(d.jsx)(We,{})})})},Fe=n(27),Ve=n(75),Me={isAuthenticated:!1,user:{}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(l.a)(Object(l.a)({},e),{},{isAuthenticated:!!t.currentUser,user:t.currentUser});case S:return{isAuthenticated:!1,user:void 0};case N:return Object(l.a)(Object(l.a)({},e),{},{isSignedIn:!0});default:return e}},Be=[],ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case g:return t.errors;case v:return Be;default:return e}},Ge=Object(Fe.b)({session:ze}),qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:{},user:{},new:void 0},t=arguments.length>1?arguments[1]:void 0;Object.freeze(e);var n=Object.assign({},e);switch(t.type){case F:return n.all=t.comments.data,n;case V:return n.user=t.comments.data,n;case M:return n.new=t.comment.data,n;default:return e}},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapDisplay:{},sidebar:{},focusId:null},t=arguments.length>1?arguments[1]:void 0;Object.freeze(e);var n={};switch(t.type){case Y:return(n=Object.assign({},e)).mapDisplay=t.geoJSON,n;case Q:return(n=Object.assign({},e)).sidebar=t.view,n.focusId=t.view._id,n;default:return e}};var Xe=Object(Fe.b)({modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.modal;case k:return null;default:return e}}}),Ye=Object(Fe.b)({errors:Ge,session:He,comments:qe,views:Je,ui:Xe}),Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(Fe.c)(Ye,e,Object(Fe.a)(Ve.a))};n(186);document.addEventListener("DOMContentLoaded",(function(){var e;if(localStorage.jwtToken){f(localStorage.jwtToken);var t=Object(x.a)(localStorage.jwtToken);e=Qe({session:{isAuthenticated:!0,user:t}});var n=Date.now()/1e3;t.exp<n&&(e.dispatch(C()),window.location.href="/login")}else e=Qe({});var s=document.getElementById("root");document.body.style="background-image: url(https://view-finder.s3.us-west-1.amazonaws.com/01_SF_GoldenGate.JPG",o.a.render(Object(d.jsx)(Ke,{store:e}),s)}))},28:function(e,t,n){e.exports=n(143)},66:function(e,t,n){},70:function(e,t,n){}},[[187,1,2]]]);
//# sourceMappingURL=main.4d251c74.chunk.js.map