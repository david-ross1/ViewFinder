{"version":3,"sources":["config1/keys_prod1.js","util/route_util.js","util/session_api_util.js","actions/session_actions.js","actions/modal_actions.js","components/nav/navbar.js","components/nav/navbar_container.js","actions/comment_actions.js","util/comment_api_util.js","components/comments/comment_box.js","components/comments/comments.js","components/comments/comments_container.js","actions/view_actions.js","util/view_api_util.js","components/map/new_location_form.js","components/map/new_location_form_container.js","components/map/map.js","components/map/map_container.js","components/carousel/carouse.jsx","components/sidebar/sidebar.js","components/sidebar/sidebar_container.js","components/main/main_page.js","components/profile/profile.js","components/profile/profile_container.js","components/comments/comment_compose.js","components/comments/comment_compose_container.js","components/footer/footer.jsx","components/session/login_form.js","components/session/login_form_container.js","components/session/signup_form.js","components/session/signup_form_container.js","components/modal/modal.jsx","components/photoapp2.js","components/app.js","components/root.js","reducers/session_reducer.js","reducers/session_errors_reducer.js","reducers/errors_reducer.js","reducers/comments_reducer.js","reducers/views_reducer.js","reducers/ui_reducer.js","reducers/modal_reducer.js","reducers/root_reducer.js","store/store.js","index.js","config1/keys.js"],"names":["console","log","process","MAPBOX_API","module","exports","nodeEnv","mongoURI","MONGO_URI","secretOrKey","SECRET_OR_KEY","awsFileUrlLink","AWS_FILE_URL_LINK","awsAccessKeyId","AWS_ACCESS_KEY_ID","awsSecretAccessKey","AWS_SECRET_ACCESS_KEY","awsBucketName","AWS_BUCKET_NAME","awsRegion","AWS_REGION","mapboxAPI","mapStateToProps","state","loggedIn","session","isAuthenticated","ProtectedRoute","withRouter","connect","Component","component","path","exact","render","props","to","rest","setAuthToken","token","axios","defaults","headers","common","RECEIVE_CURRENT_USER","RECEIVE_SESSION_ERRORS","RECEIVE_USER_LOGOUT","RECEIVE_USER_SIGN_IN","receiveErrors","errors","type","signup","user","dispatch","userData","post","then","err","response","data","login","res","localStorage","setItem","APIUtil","decoded","jwt_decode","currentUser","catch","logout","removeItem","OPEN_MODAL","CLOSE_MODAL","openModal","modal","closeModal","NavBar","handleClick","setState","navigate","logoutUser","bind","getLinks","e","preventDefault","this","className","onClick","React","RECEIVE_COMMENTS","RECEIVE_USER_COMMENTS","RECEIVE_NEW_COMMENT","fetchComments","get","comments","receiveComments","fetchUserComments","id","getUserComments","receiveUserComments","composeComment","writeComment","comment","receiveNewComment","CommentBox","text","Comment","newState","length","map","_id","Object","values","all","Comments","RECEIVE_VIEWS","RECEIVE_FULL_VIEW_DATA","receiveFullViewData","view","fetchViews","views","geoJSON","fetchView","ViewApiUtil","createView","viewData","config","bucketName","region","accessKeyId","secretAccessKey","ReactS3Client","S3","NewLocationForm","longitude","latitude","setDisplayLocationForm","useState","name","setName","description","setDescription","photos","onSubmit","locationName","value","onChange","target","uploadFile","files","toFixed","push","s3Link","location","alert","mapboxApiAccessToken","require","Pin","Math","floor","random","xmlns","width","height","viewBox","d","Map","focusId","newPinLocation","setNewPinLocation","displayLocationForm","zoom","viewport","setViewport","readyToPlace","setReadyToPlace","useEffect","mapStyle","onViewportChange","lngLat","_onClick","features","feature","geometry","coordinates","classNames","properties","stopPropagation","closeButton","style","top","left","store","mapDisplay","Carousel","onSlideChanged","currentIndex","item","slideNext","slidePrev","slideTo","i","src","dotsDisabled","buttonsDisabled","slideToIndex","renderThumbs","renderGallery","Sidebar","focusView","sidebar","MainPage","Profile","CommentCompose","newComment","handleSubmit","nextProps","currentTarget","update","placeholder","new","Footer","github","linkedin","href","alt","LoginForm","email","password","demoUser","renderErrors","otherForm","history","field","keys","error","required","SignupForm","password2","clearedErrors","signedIn","isSignedIn","ui","App","CommentsContainer","ProfileContainer","CommentComposeContainer","Root","initialState","sessionReducer","action","undefined","_nullErrors","SessionErrorsReducer","freeze","combineReducers","CommentsReducer","assign","ViewsReducer","RootReducer","configureStore","preloadedState","createStore","rootReducer","applyMiddleware","thunk","document","addEventListener","jwtToken","decodedUser","currentTime","Date","now","exp","window","root","getElementById","body","ReactDOM"],"mappings":"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","file":"static/js/main.4d251c74.chunk.js","sourcesContent":["console.log(\"Hi, I'm the frontend keyfile!\")\nconsole.log(process.env.MAPBOX_API);\n\nmodule.exports = {\n  nodeEnv: process.env.NODE_ENV,\n  mongoURI: process.env.MONGO_URI,\n  secretOrKey: process.env.SECRET_OR_KEY,\n  awsFileUrlLink: process.env.AWS_FILE_URL_LINK,\n  awsAccessKeyId: process.env.AWS_ACCESS_KEY_ID,\n  awsSecretAccessKey: process.env.AWS_SECRET_ACCESS_KEY,\n  awsBucketName: process.env.AWS_BUCKET_NAME,\n  awsRegion: process.env.AWS_REGION,\n  mapboxAPI: process.env.MAPBOX_API,\n};","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Route, Redirect, withRouter } from \"react-router-dom\";\n\nconst Auth = ({ component: Component, path, loggedIn, exact }) => (\n  <Route\n    path={path}\n    exact={exact}\n    render={(props) =>\n      !loggedIn ? <Component {...props} /> : <Redirect to=\"/comments\" />\n    }\n  />\n);\n\nconst Protected = ({ component: Component, loggedIn, ...rest }) => (\n  <Route\n    {...rest}\n    render={(props) =>\n      loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n    }\n  />\n);\n\nconst mapStateToProps = (state) => ({\n  loggedIn: state.session.isAuthenticated,\n});\n\nexport const AuthRoute = withRouter(connect(mapStateToProps)(Auth));\n\nexport const ProtectedRoute = withRouter(connect(mapStateToProps)(Protected));\n","import axios from 'axios';\n\nexport const setAuthToken = token => {\n  if (token) {\n    axios.defaults.headers.common['Authorization'] = token;\n  } else {\n    delete axios.defaults.headers.common['Authorization'];\n  }\n};\n\nexport const signup = (userData) => {\n  return axios.post('/api/users/register', userData);\n};\n\nexport const login = (userData) => {\n  return axios.post('/api/users/login', userData);\n};\n\n","import * as APIUtil from '../util/session_api_util';\nimport jwt_decode from 'jwt-decode';\n\nexport const RECEIVE_CURRENT_USER = \"RECEIVE_CURRENT_USER\";\nexport const RECEIVE_SESSION_ERRORS = \"RECEIVE_SESSION_ERRORS\";\nexport const RECEIVE_USER_LOGOUT = \"RECEIVE_USER_LOGOUT\";\nexport const RECEIVE_USER_SIGN_IN = \"RECEIVE_USER_SIGN_IN\";\n\nexport const receiveCurrentUser = currentUser => ({\n    type: RECEIVE_CURRENT_USER,\n    currentUser\n});\n\nexport const receiveUserSignIn = () => ({\n    type: RECEIVE_USER_SIGN_IN\n});\n  \nexport const receiveErrors = errors => ({\n    type: RECEIVE_SESSION_ERRORS,\n    errors\n});\n\nexport const logoutUser = () => ({\n    type: RECEIVE_USER_LOGOUT\n});\n\nexport const signup = user => dispatch => (\n    APIUtil.signup(user).then(() => (\n        dispatch(receiveUserSignIn())\n    ), err => (\n        dispatch(receiveErrors(err.response.data))\n    ))\n);\n\nexport const login = user => dispatch => (\n    APIUtil.login(user).then(res => {\n        const { token } = res.data;\n        localStorage.setItem('jwtToken', token);\n        APIUtil.setAuthToken(token);\n        const decoded = jwt_decode(token);\n        dispatch(receiveCurrentUser(decoded))\n    })\n    .catch(err => {\n        dispatch(receiveErrors(err.response.data));\n    })\n)\n\nexport const logout = () => dispatch => {\n    localStorage.removeItem('jwtToken')\n    APIUtil.setAuthToken(false)\n    dispatch(logoutUser())\n};\n\n","export const OPEN_MODAL = \"OPEN_MODAL\";\nexport const CLOSE_MODAL = \"CLOSE_MODAL\";\n\nexport const openModal = (modal) => {\n  return {\n    type: OPEN_MODAL,\n    modal,\n  };\n};\n\nexport const closeModal = () => {\n  return {\n    type: CLOSE_MODAL,\n  };\n};","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./navbar.css\";\nimport {FaUserCircle, FaUserLock } from \"react-icons/fa\"\n\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { navigate: false }\n    this.logoutUser = this.logoutUser.bind(this);\n    this.getLinks = this.getLinks.bind(this);\n\n  }\n\n  handleClick = () => {\n    this.setState({ navigate: true});\n  }\n\n\n  logoutUser(e) {\n    e.preventDefault();\n    this.props.logout();\n  }\n\n  getLinks() {\n    let {openModal} = this.props\n    if (this.props.loggedIn) {\n      return (\n        <div className=\"NavBar\">\n          <div className=\"comment-links\">\n            <div className=\"t-link\">\n              <Link className=\"link\" to={\"/\"}>\n                All Comments\n              </Link>\n              <Link className=\"link\" to={\"/\"}>\n                Write a Comment\n              </Link>\n              <div className=\"logout-button\">\n                <button className=\"logout\" onClick={this.logoutUser}>\n                <FaUserLock/>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"session-container\">\n          <div className=\"NavBar Links2\">\n            \n            <button onClick={() => openModal('login')} className='nav-button-login'><FaUserCircle/></button>\n            \n          </div>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"logotainer\">\n        <div className=\"main-logo\">\n          <div className=\"loogo\">\n            <Link to='/' className='logo-link'>ViewFinder</Link>\n            {this.getLinks()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NavBar;\n\n\n\n\n\n\n\n// import React from \"react\";\n// import { Link } from \"react-router-dom\";\n// import \"./navbar.css\";\n\n// class NavBar extends React.Component {\n//   constructor(props) {\n//     super(props);\n//     this.logoutUser = this.logoutUser.bind(this);\n//     this.getLinks = this.getLinks.bind(this);\n//   }\n\n//   logoutUser(e) {\n//     e.preventDefault();\n//     this.props.logout();\n//   }\n\n//   getLinks() {\n//     if (this.props.loggedIn) {\n//       return (\n//         <div className=\"NavBar\">\n//           <div className=\"comment-links\">\n//             <div className=\"t-link\">\n//               <Link className=\"link\" to={\"/comments\"}>\n//                 All Comments\n//               </Link>\n//               <Link className=\"link\" to={\"/profile\"}>\n//                 Profile\n//               </Link>\n//               <Link className=\"link\" to={\"/new_comment\"}>\n//                 Write a Comment\n//               </Link>\n//               <div className=\"logout-button\">\n//                 <button className=\"logout\" onClick={this.logoutUser}>\n//                   Logout\n//                 </button>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       );\n//     } else {\n//       return (\n//         <div className=\"session-container\">\n//           <div className=\"NavBar Links2\">\n//             <button className=\"session-button\">\n//               {\" \"}\n//               <Link className=\"link\" to={\"/signup\"}>\n//                 Signup\n//               </Link>{\" \"}\n//             </button>\n//             <button className=\"session-button\">\n//               <Link className=\"link\" to={\"/login\"}>\n//                 Login\n//               </Link>\n//             </button>\n//           </div>\n//         </div>\n//       );\n//     }\n//   }\n\n//   render() {\n//     return (\n//       <div className=\"logotainer\">\n//         <div className=\"main-logo\">\n//           <h1>ViewFinder</h1>\n//           {this.getLinks()}\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n// export default NavBar;\n","import { connect } from 'react-redux';\nimport { logout } from '../../actions/session_actions';\nimport { openModal } from '../../actions/modal_actions';\n\nimport NavBar from './navbar';\n\nconst mapStateToProps = state => ({\n  loggedIn: state.session.isAuthenticated\n});\n\nconst mapDispatchToProps = dispatch => ({\n  logout: () => dispatch(logout()),\n  openModal: modal => dispatch(openModal(modal))\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(NavBar);","import { getComments, getUserComments, writeComment } from \"../util/comment_api_util\";\n\nexport const RECEIVE_COMMENTS = \"RECEIVE_COMMENTS\";\nexport const RECEIVE_USER_COMMENTS = \"RECEIVE_USER_COMMENTS\";\nexport const RECEIVE_NEW_COMMENT = \"RECEIVE_NEW_COMMENT\";\n\nexport const receiveComments = (comments) => ({\n  type: RECEIVE_COMMENTS,\n  comments,\n});\n\nexport const receiveUserComments = (comments) => ({\n  type: RECEIVE_USER_COMMENTS,\n  comments,\n});\n\nexport const receiveNewComment = (comment) => ({\n  type: RECEIVE_NEW_COMMENT,\n  comment,\n});\n\nexport const fetchComments = () => (dispatch) =>\n  getComments()\n    .then((comments) => dispatch(receiveComments(comments)))\n    .catch((err) => console.log(err));\n\nexport const fetchUserComments = (id) => (dispatch) =>\n  getUserComments(id)\n    .then((comments) => dispatch(receiveUserComments(comments)))\n    .catch((err) => console.log(err));\n\nexport const composeComment = (data) => (dispatch) =>\n  writeComment(data)\n    .then((comment) => dispatch(receiveNewComment(comment)))\n    .catch((err) => console.log(err));\n","import axios from \"axios\";\n\nexport const getComments = () => {\n  return axios.get(\"/api/comments\");\n};\n\nexport const getUserComments = (id) => {\n  return axios.get(`/api/comments/user/${id}`);\n};\n\nexport const writeComment = (data) => {\n  return axios.post(\"/api/comments/\", data);\n};\n","import React from \"react\";\nimport \"./comment.css\";\n\nclass CommentBox extends React.Component {\n  render() {\n    return (\n      <div className=\"comment-text\">\n        <h3>{this.props.text}</h3>\n      </div>\n    );\n  }\n}\n\nexport default CommentBox;\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport CommentBox from \"./comment_box\";\nimport \"./comment.css\";\n\nclass Comment extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      comments: [],\n    };\n  }\n\n  componentWillMount() {\n    this.props.fetchComments();\n  }\n\n  componentWillReceiveProps(newState) {\n    this.setState({ comments: newState.comments });\n  }\n\n  render() {\n    if (this.state.comments.length === 0) {\n      return <div className='comment-text'>Be the first to comment</div>;\n    } else {\n      return (\n        <div className=\"comment-header\">\n          <h2>All Comments</h2>\n          {this.state.comments.map((comment) => (\n            <CommentBox key={comment._id} text={comment.text} />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n\nexport default withRouter(Comment);\n","import { connect } from \"react-redux\";\nimport { fetchComments } from \"../../actions/comment_actions\";\nimport Comments from \"./comments\";\n\nconst mapStateToProps = (state) => {\n  return {\n    comments: Object.values(state.comments.all),\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchComments: () => dispatch(fetchComments()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Comments);\n","import * as ViewApiUtil from \"../util/view_api_util\";\n\nexport const RECEIVE_VIEWS = \"RECEIVE_VIEWS\";\n\nexport const RECEIVE_FULL_VIEW_DATA = \"RECEIVE_FULL_VIEW_DATA\";\n\nexport const receiveGeoJSON = (geoJSON) => ({\n  type: RECEIVE_VIEWS,\n  geoJSON,\n});\n\nexport const receiveFullViewData = (view) => ({\n  type: RECEIVE_FULL_VIEW_DATA,\n  view,\n});\n\nexport const fetchViews = () => dispatch => ViewApiUtil.getViews().then(views => dispatch(receiveGeoJSON(views.data)));\n\nexport const fetchView = id => dispatch => ViewApiUtil.getView(id).then(view => dispatch(receiveFullViewData(view.data)));\n\nexport const createView = viewData => dispatch => ViewApiUtil.createView(viewData).then(view => dispatch(receiveFullViewData(view.data)));","import axios from 'axios';\n\nexport const getViews = () => axios.get('/api/views/');\n\nexport const getView = (id) => axios.get(`/api/views/${id}`);\n\nexport const createView = (viewData) => axios.post('/api/views/',viewData);","import React, {useState} from 'react';\nimport S3 from \"react-aws-s3\";\nimport { awsAccessKeyId, awsSecretAccessKey } from \"../../config1/keys\";\nimport './NewLocationForm.css';\n\nconst config = {\n  bucketName: \"view-finder\",\n  //dirName: \"media\" /* optional */,\n  region: \"us-west-1\",\n  accessKeyId: awsAccessKeyId,\n  secretAccessKey: awsSecretAccessKey,\n  //s3Url: \"https:/your-custom-s3-url.com/\" /* optional */,\n};\n\nconst ReactS3Client = new S3(config);\n\nconst NewLocationForm = ({fetchViews, longitude,latitude,createView,setDisplayLocationForm}) => {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const photos = [];\n  const handleSubmit = () => createView({longitude, latitude, locationName: name, description, photos});\n  const upload = (e) => {\n    ReactS3Client.uploadFile( e.target.files[0] , `${longitude.toFixed(4)},${latitude.toFixed(4)}-${photos.length}`)\n      .then( (data) => {\n        photos.push({s3Link: data.location});\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  };\n\n  return (\n    <form className=\"new-location-form\" onSubmit={e => {\n      e.preventDefault();\n      handleSubmit().then(fetchViews);\n      setDisplayLocationForm(false);\n    }}>\n      <label><h2>Name:</h2>\n        <input value={name} onChange={(e) => setName(e.target.value)}/>\n      </label>\n      <label><h2>Description:</h2>\n        <input value={description} onChange={(e) => setDescription(e.target.value)}/>\n      </label>\n      <br/>\n      <label>Images:\n        <input type=\"file\" onChange={upload}/>\n      </label>\n      <button>Create View</button>\n    </form>\n  );\n}\n\nexport default NewLocationForm;","import {connect} from 'react-redux';\nimport {createView} from '../../actions/view_actions';\nimport NewLocationForm from \"./new_location_form\";\n\nconst mapDispatchToProps = (dispatch) => ({\n  createView: (viewData) => dispatch(createView(viewData)),\n});\n\nexport default connect(null,mapDispatchToProps)(NewLocationForm);","import React, {useEffect, useRef, useState} from 'react';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport mapboxgl from 'mapbox-gl';\nimport ReactMapGL, {Marker, NavigationControl, Popup} from 'react-map-gl';\nimport classNames from 'classnames';\nimport NewLocationFormContainer from './new_location_form_container';\nimport './map.css'\n\nconst mapboxApiAccessToken = require('../../config1/keys').mapboxAPI;\nconst nodeEnv = require('../../config1/keys').nodeEnv;\n\ndebugger\n\nconst MAX_ZOOM = 16;\nconst MIN_ZOOM = 7;\nconst [locLng,locLat] = [-122.250,37.807];\n// const maxBounds = [\n//   [-123.956,38.999],\n\n//   [-120.679,36.474]\n// ];\n\nconst randomColor = () => {\n  return ['one','two','three', 'four', 'zero'][Math.floor(Math.random() * 5)]\n}\n\n\n\n\nconst Pin = () => (\n  <svg className={randomColor() + ' offset'}  xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" >\n    <path d=\"M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z\"/>\n  </svg>\n);\n\nconst Map = ({geoJSON,focusId,fetchViews,fetchView}) => {\n  const [newPinLocation, setNewPinLocation] = useState(null);\n  const [displayLocationForm,setDisplayLocationForm] = useState(false);\n  const _onClick = (e) => {\n    setNewPinLocation({\n      longitude: e.lngLat[0],\n      latitude: e.lngLat[1],\n    });\n    setDisplayLocationForm(true);\n  };\n  const [viewport, setViewport] = useState({\n    latitude: locLat,\n    longitude: locLng,\n    zoom: 8,\n  });\n  const [readyToPlace, setReadyToPlace] = useState(false);\n  useEffect(() => {\n    fetchViews()\n  },[fetchViews]);\n    return (\n  <div className=\"map\">\n    <ReactMapGL\n      mapStyle={\"mapbox://styles/kerapace/ckpwz1oel3dqt17mvkiquuo75\"}\n      mapboxApiAccessToken={mapboxApiAccessToken}\n      {...viewport}\n      width={\"100%\"}\n      height={\"100%\"}\n      onViewportChange={viewport => setViewport(viewport)}\n      onClick = {(e) => readyToPlace ? _onClick(e) : \"\"}\n    >\n      {!geoJSON.features ? \"\" : geoJSON.features.map(feature => (\n        <Marker key={feature.geometry.properties.id}\n          longitude={feature.geometry.coordinates[0]}\n          latitude={feature.geometry.coordinates[1]} \n          className={classNames(\"view-location\",{\"selected\": feature.geometry.properties.id === focusId})}\n          onClick={(e) => {\n            fetchView(feature.geometry.properties.id);\n            e.stopPropagation();\n          }}\n        >\n          <Pin className='map-pin'/>\n        </Marker>\n      ))}\n      {newPinLocation === null ? \"\" : (\n        <Marker key={\"new\"} className={\"view-location new selected\"}\n          {...newPinLocation}\n        >\n          <Pin className='selected-pin' />\n        </Marker>\n      )}\n      {!displayLocationForm || newPinLocation === null ? \"\" : \n        <Popup {...newPinLocation} closeButton={false}>\n            <NewLocationFormContainer fetchViews={fetchViews} fetchView={fetchView} setDisplayLocationForm={setDisplayLocationForm} {...newPinLocation} />\n        </Popup>\n      }\n      <NavigationControl style={{top: \"10px\",left: \"10px\"}}/>\n    </ReactMapGL>\n    <div className='place-marker-text'> \n      <button className={\"new-location-button\"} onClick={() => {\n        setNewPinLocation(null);\n        setReadyToPlace(!readyToPlace); \n      }}>Place New Location</button>\n    </div> \n  </div>\n  );\n  // const zoomIn = () => {\n  //   if(!map.current || zoom >= MAX_ZOOM) {return;}\n  //   map.current.easeTo({\n  //     zoom: zoom+1,\n  //   });\n  //   setZoom(zoom+1);\n  // };\n  // const zoomOut = () => {\n  //   if(!map.current || zoom <= MIN_ZOOM) {return;}\n  //   map.current.easeTo({\n  //     zoom: zoom-1,\n  //   });\n  //   setZoom(zoom-1);\n  // }\n\n  // useEffect(() => {\n  //   if(map.current) {return;}\n  //   map.current = new mapboxgl.Map({\n  //     container: mapContainer.current,\n  //     style: \"mapbox://styles/kerapace/ckpwz1oel3dqt17mvkiquuo75\",\n  //     center: [lng,lat],\n  //     zoom: zoom,\n  //   });\n  //   const navControl = new mapboxgl.NavigationControl();\n  //   map.current.addControl(navControl, \"bottom-left\");\n  //   // map.current.setMaxBounds(maxBounds);\n  // });\n\n  // useEffect(() => {\n  //   if(!map.current) {return;}\n  //   map.current.on('move', () => {\n  //     setLng(map.current.getCenter().lng.toFixed(4));\n  //     setLat(map.current.getCenter().lat.toFixed(4));\n  //     setZoom(map.current.getZoom().toFixed(2));\n  //   });\n  // });\n}\n\nexport default Map;","import {connect} from 'react-redux';\nimport {fetchViews, fetchView} from '../../actions/view_actions';\nimport Map from \"./map\";\n\nconst mapStateToProps = (store) => {  \n  return {\n    geoJSON: store.views.mapDisplay,\n    focusId: store.views.focusId, \n  };\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchViews: () => dispatch(fetchViews()),\n  fetchView: (id) => dispatch(fetchView(id)),\n});\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Map);\n","import React from 'react';\nimport AliceCarousel from 'react-alice-carousel';\nimport './carousel.css'\nimport { connect } from 'react-redux';\n\nclass Carousel extends React.Component {\n    constructor() {\n      super();\n\n      this.state = {\n        currentIndex: 0,\n        \n      }\n      this.slideTo=this.slideTo.bind(this)\n      \n    }\n\n    slideTo(i) {\n      this.setState({ currentIndex: i })\n    } \n\n    onSlideChanged = (e) => this.setState({ currentIndex: e.item });\n\n    slideNext = () => this.setState({ currentIndex: this.state.currentIndex + 1 });\n\n    slidePrev = () => this.setState({ currentIndex: this.state.currentIndex - 1 });\n\n    renderThumbs() {\n      if (!this.props.photos) {\n        return <div> </div>\n      } else {\n      return (\n        <ul className='thumb-bar'>{this.props.photos.map((item, i) =>\n          <li className='thumbs' key={i} onClick={(i) => this.slideTo(i)}><img src={item.s3Link} /></li>)}\n        </ul>\n        )\n      }\n    }\n\n    renderGallery() {\n      const { currentIndex } = this.state;\n\n      return (<AliceCarousel\n        dotsDisabled={true}\n        buttonsDisabled={false}\n        slideToIndex={currentIndex}\n        onSlideChanged={this.onSlideChanged}\n      >\n        {!this.props.photos ? \"\" : this.props.photos.map((item, i) => <div key={i} className=\"photos\"><h2><img className='photo' src={item.s3Link} /></h2></div>) }\n      </AliceCarousel>);\n    }\n\n    render() {\n      return (\n        <div>\n          \n          { this.renderThumbs() }\n          \n          { this.renderGallery() }\n        </div>\n      );\n    }\n}\n\nexport default Carousel;","import React, {useState} from 'react';\nimport classNames from 'classnames';\nimport \"./sidebar.css\";\nimport Carousel from '../carousel/carouse'\n\nconst Sidebar = ({focusView}) => {\n  // const [splashIdx, setSplashIdx] = useState(0);\n  return Object.values(focusView).length === 0 ? \"\" : (\n    \n      <section className=\"sidebar\">\n        <div className=\"picture-carousel\">\n          <Carousel photos={focusView.photos} />\n          {/* {!focusView.photos ? \"\" : focusView.photos.map((photo,idx) => (\n            <figure key={idx} className={classNames({\"focused\": idx === splashIdx})} onClick={() => setSplashIdx(idx)}><img src={photo.s3Link}/></figure>\n          ))} */}\n        </div>\n        <h2 className=\"view-name\">{focusView.locationName}</h2>\n        <p className=\"view-desc\">{focusView.description}</p>\n      </section>\n    \n  );\n}\n\nexport default Sidebar;","import {connect} from 'react-redux';\nimport {fetchView} from '../../actions/view_actions';\nimport Sidebar from './sidebar';\n\nconst mapStateToProps = (store) => ({\n  focusView: store.views.sidebar,\n  // focusId: store.views.focusId,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  // fetchView: (id) => dispatch(fetchView(id)),\n});\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Sidebar);","import React from \"react\";\nimport MapContainer from \"../map/map_container\";\nimport \"./main.css\";\nimport SidebarContainer from \"../sidebar/sidebar_container\";\n\nclass MainPage extends React.Component {\n  render() {\n    return (\n      <div>\n        <div className='main-body'>\n          <div className='map-container'>\n            <MapContainer/>\n          </div>\n          <div className='side-section'>\n            <SidebarContainer/>\n\n            {/* <div className='comments'></div> */}\n                   \n          </div>\n        </div>\n        <footer className=\"body-footer\">Copyright &copy; 2021 ViewFinder</footer>\n      </div>\n    );\n  }\n}\n\nexport default MainPage;\n","import React from \"react\";\nimport CommentBox from \"../comments/comment_box\";\nimport \"./profile.css\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      comments: [],\n    };\n  }\n\n  componentWillMount() {\n    console.log(this.props.currentUser.id);\n    this.props.fetchUserComments(this.props.currentUser.id);\n  }\n\n  componentWillReceiveProps(newState) {\n    this.setState({ comments: newState.comments });\n  }\n\n  render() {\n    if (this.state.comments.length === 0) {\n      return <div>This user has no Comments</div>;\n    } else {\n      return (\n        <div className=\"all-user-comments\">\n          <h2>All of This User's Comments</h2>\n          {this.state.comments.map((comment) => (\n            <CommentBox key={comment._id} text={comment.text} />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n\nexport default Profile;\n","import { connect } from \"react-redux\";\nimport { fetchUserComments } from \"../../actions/comment_actions\";\nimport Profile from \"./profile\";\n\nconst mapStateToProps = (state) => {\n  return {\n    comments: Object.values(state.comments.user),\n    currentUser: state.session.user,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchUserComments: (id) => dispatch(fetchUserComments(id)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\n","import React from \"react\";\nimport CommentBox from \"./comment_box\";\n\nclass CommentCompose extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      text: \"\",\n      newComment: \"\",\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ newComment: nextProps.newComment.text });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let comment = {\n      text: this.state.text,\n    };\n\n    this.props.composeComment(comment);\n    this.setState({ text: \"\" });\n  }\n\n  update() {\n    return (e) =>\n      this.setState({\n        text: e.currentTarget.value,\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"write-comment-container\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"write-comment\">\n            <input\n              type=\"textarea\"\n              value={this.state.text}\n              onChange={this.update()}\n              placeholder=\"Write your comment...\"\n              className=\"write-comment-input\"\n            />\n            <input\n              className=\"write-comment-submit\"\n              type=\"submit\"\n              value=\"Submit\"\n            />\n          </div>\n        </form>\n        <br />\n        <CommentBox text={this.state.newComment} />\n      </div>\n    );\n  }\n}\n\nexport default CommentCompose;\n","import { connect } from \"react-redux\";\nimport { composeComment } from \"../../actions/comment_actions\";\nimport CommentCompose from \"./comment_compose\";\n\nconst mapStateToProps = (state) => {\n  return {\n    currentUser: state.session.user,\n    newComment: state.comments.new,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    composeComment: (data) => dispatch(composeComment(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentCompose);\n","import React from 'react';\nimport './footer.css'\n\n\nclass Footer extends React.Component {\n\n    render() {\n\n        let github = 'https://open-uri.s3.us-west-1.amazonaws.com/others/GitHub-Mark.png'\n        let linkedin= 'https://open-uri.s3.us-west-1.amazonaws.com/others/LinkedIn_UI-03-512.png'\n        return (\n            <footer className='footer' >\n                <div className=\"footer-component-block\">\n                    <div className=\"footer-component\">\n                        <div className=\"footer-column\">\n                            <h3 className=\"footer-header\">Jonathan Hill</h3>\n                            <ul className=\"footer-list\">\n                                <p><a href={\"https://github.com/kerapace\"} className='footer-links'><img className=\"footer-logo\"src={github} alt='' /></a></p>\n                                <p className='text-block'><img className=\"footer-logo\" src={linkedin}  alt=''/>  </p>\n                                \n                            </ul>\n                        </div>\n                        <div className=\"footer-column\">\n                            <h3 className=\"footer-header\">David Ross</h3>\n                            <ul className=\"footer-list\">\n                                <p><a href={\"https://github.com/david-ross1\"} className='footer-links'><img className=\"footer-logo\"src={github} alt='' /></a></p>\n                                <p className=\"text-block\"><img className=\"footer-logo\" src={linkedin} alt=''/>  </p>\n\n                            </ul>\n                        </div>\n                        <div className=\"footer-column\">\n                            <h3 className=\"footer-header\">Mohammad Ali</h3>\n                            <ul className=\"footer-list\">\n\n                                <p><a href={\"https://github.com/mataghva\"} className='footer-links'><img className=\"footer-logo\"src={github} alt='' /></a></p>\n\n                                \n                                <p><a href={\"www.linkedin.com/in/mohammad-ali-taghva-4b06b237\"} className='footer-links'><img className=\"footer-logo\" src={linkedin} alt='' /></a></p>\n\n                            </ul>\n                        </div>\n                        <div className=\"footer-column\">\n                            <h3 className=\"footer-header\">Alfredo Ramirez Mendez</h3>\n                            <ul className=\"footer-list\">\n\n                                <p><a href={\"https://github.com/alfredorz6\"} className='footer-links'><img className=\"footer-logo\" src={github} alt='' /></a></p>\n\n                                \n                                <p><a href={\"https://www.linkedin.com/in/alfredo-alejandro-ramirez-mendez-7aa552129/\"} className='footer-links'><img className=\"footer-logo\" src={linkedin} alt='' /></a></p>\n \n                            </ul>\n                        </div>\n                    </div>\n                    \n                </div>\n            </footer>\n        )\n    }\n}\n\nexport default Footer","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./session.css\";\n\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {},\n    };\n\n    this.demoUser = this.demoUser.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.renderErrors = this.renderErrors.bind(this);\n    this.otherForm = this.otherForm.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currentUser === true) {\n      this.props.history.push(\"/comments\");\n    }\n\n    this.setState({ errors: nextProps.errors });\n  }\n\n  update(field) {\n    return (e) =>\n      this.setState({\n        [field]: e.currentTarget.value,\n      });\n  }\n\n  otherForm() {\n    this.props.otherForm();\n  }\n\n  demoUser(e) {\n    e.preventDefault();\n    const user = { email: \"demo@demo.com\", password: \"123456\" };\n    this.props.login(user).then(this.props.closeModal);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n\n    let user = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n\n    this.props.login(user).then(this.props.closeModal);\n  }\n\n  renderErrors() {\n    return (\n      <ul>\n        {Object.keys(this.state.errors).map((error, i) => (\n          <li key={`error-${i}`}>{this.state.errors[error]}</li>\n        ))}\n      </ul>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"login-form-container\">\n        <div className=\"login-head\">\n          <button className=\"sign-button\" onClick={this.otherForm}>\n            <p className=\"button-text\">Sign Up</p>\n          </button>\n          <button className=\"close-button\" onClick={this.props.closeModal}>\n            X\n          </button>\n        </div>\n        <form className=\"session-form-sign\" onSubmit={this.handleSubmit}>\n          {this.renderErrors()}\n          <div className=\"login-form\">\n            <div className=\"input\">\n              <label></label>\n              <br />\n              <input\n                className=\"login-text\"\n                type=\"text\"\n                value={this.state.email}\n                onChange={this.update(\"email\")}\n                placeholder=\"Email\"\n                required\n              />\n            </div>\n            <br />\n            {/* <div className=\"input\">\n              <label></label>\n              <br />\n              <input\n                className=\"login-text\"\n                type=\"text\"\n                value={this.state.name}\n                onChange={this.update(\"name\")}\n                placeholder=\"Name\"\n                required\n              />\n            </div> */}\n            <br />\n            <div className=\"input\">\n              <label></label>\n              <br />\n              <input\n                className=\"login-text\"\n                type=\"password\"\n                value={this.state.password}\n                onChange={this.update(\"password\")}\n                placeholder=\"Password\"\n                required\n              />\n            </div>\n            <br />\n            {/* <div className=\"input\">\n              <label></label>\n              <br />\n              <input\n                className=\"login-text\"\n                type=\"password\"\n                value={this.state.password2}\n                onChange={this.update(\"password2\")}\n                placeholder=\"Confirm Password\"\n                required\n              />\n            </div> */}\n            <br />\n            <input className=\"submit button\" type=\"submit\" value=\"Submit\" />\n            {this.renderErrors()}\n            <br />\n            {\" \"}\n            <div className=\"demo-button\">\n              {\" \"}\n              <button onClick={this.demoUser} className=\"demo-submit\">\n                 Demo Login {\" \"}\n              </button>\n              {\" \"}\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\n\nexport default withRouter(LoginForm);\n//   render() {\n//     return (\n//       <div className=\"login-form-container\">\n//         <div className=\"login-form\">\n//           <div className=\"login-head\">\n//             <button className=\"sign-button\" onClick={this.otherForm}>\n//               <p className=\"button-text\">Sign Up</p>\n//             </button>\n//             <button className=\"close-button\" onClick={this.props.closeModal}>\n//               X\n//             </button>\n//           </div>\n//           <br />\n//           <br />\n//           <form className=\"session-form\" onSubmit={this.handleSubmit}>\n//             <div className=\"input\">\n//               <label></label>\n//               <br />\n//               <input\n//                 className=\"login-text\"\n//                 type=\"text\"\n//                 value={this.state.email}\n//                 onChange={this.update(\"email\")}\n//                 placeholder=\"Email\"\n//                 required\n//               />\n//             </div>\n//             <br />\n//             <br />\n//             <div>\n//               <label></label>\n//               <br />\n//               <input\n//                 className=\"login-text\"\n//                 type=\"password\"\n//                 value={this.state.password}\n//                 onChange={this.update(\"password\")}\n//                 placeholder=\"Password\"\n//                 required\n//               />\n//               <br />\n//             </div>\n//             <br />\n//             <br />\n//             <input className=\"submit\" type=\"submit\" value=\"Submit\" />\n//             {this.renderErrors()}\n//             <br />\n//             <div className=\"demo-button\">\n//               <button onClick={this.demoUser} className=\"demo-submit\">\n//                 Demo Login\n//               </button>\n//             </div>\n//           </form>\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n// export default withRouter(LoginForm);\n","import { connect } from 'react-redux';\nimport { login } from '../../actions/session_actions';\nimport { openModal, closeModal } from '../../actions/modal_actions';\nimport LoginForm from './login_form';\n\n\nconst mapStateToProps = (state) => {\n  return {\n    errors: state.errors.session\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    login: user => dispatch(login(user)),\n    otherForm: () => dispatch(openModal('signup')),\n    closeModal: () => dispatch(closeModal())\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginForm);","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport './session.css'\n\nclass SignupForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      name: '',\n      password: '',\n      password2: '',\n      errors: {}\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clearedErrors = false;\n    this.otherForm = this.otherForm.bind(this)\n    this.alert = this.alert.bind(this)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.signedIn === true) {\n      this.props.otherForm();\n      this.alert()\n    }\n\n    this.setState({errors: nextProps.errors})\n  }\n\n  update(field) {\n    return e => this.setState({\n      [field]: e.currentTarget.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    let user = {\n      email: this.state.email,\n      name: this.state.name,\n      password: this.state.password,\n      password2: this.state.password2\n    };\n\n    this.props.signup(user, this.props.history); \n  }\n\n  renderErrors() {\n    return(\n      <ul>\n        {Object.keys(this.state.errors).map((error, i) => (\n          <li key={`error-${i}`}>\n            {this.state.errors[error]}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  otherForm() {\n    this.props.otherForm()\n  }\n\n  alert() {\n    return alert('User Created') \n  }\n\n  render() {\n    return (\n      <div className=\"login-form-container\">\n        <div className=\"login-head\">\n          <button className=\"sign-button\" onClick={this.otherForm}>\n            <p className=\"button-text\">Login</p>\n          </button>\n          <button className=\"close-button\" onClick={this.props.closeModal}>\n            X\n          </button>\n        </div>\n        <form className=\"session-form-sign\" onSubmit={this.handleSubmit}>\n          {this.renderErrors()}\n          <div className=\"login-form\">\n            <div className=\"input\">\n              <label></label>\n              <br />\n              <input\n                className=\"login-text\"\n                type=\"text\"\n                value={this.state.email}\n                onChange={this.update(\"email\")}\n                placeholder=\"Email\"\n                required\n              />\n            </div>\n            <br />\n            <div className=\"input\">\n              <label></label>\n              <br />\n              <input\n                className=\"login-text\"\n                type=\"text\"\n                value={this.state.name}\n                onChange={this.update(\"name\")}\n                placeholder=\"Name\"\n                required\n              />\n            </div>\n            <br />\n            <div className=\"input\">\n              <label></label>\n              <br />\n              <input\n                className=\"login-text\"\n                type=\"password\"\n                value={this.state.password}\n                onChange={this.update(\"password\")}\n                placeholder=\"Password\"\n                required\n              />\n            </div>\n            <br />\n            <div className=\"input\">\n              <label></label>\n              <br />\n              <input\n                className=\"login-text\"\n                type=\"password\"\n                value={this.state.password2}\n                onChange={this.update(\"password2\")}\n                placeholder=\"Confirm Password\"\n                required\n              />\n            </div>\n            <br />\n            <input className=\"submit button\" type=\"submit\" value=\"Submit\" />\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SignupForm);\n","import { connect } from 'react-redux';\nimport { signup } from '../../actions/session_actions';\nimport { openModal, closeModal } from '../../actions/modal_actions';\nimport SignupForm from './signup_form';\n\nconst mapStateToProps = (state) => {\n  return {\n    signedIn: state.session.isSignedIn,\n    errors: state.errors.session\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    signup: user => dispatch(signup(user)),\n    otherForm: () => dispatch(openModal(\"login\")),\n    closeModal: () => dispatch(closeModal())\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SignupForm);","import React from 'react';\nimport { closeModal } from '../../actions/modal_actions';\nimport { connect } from 'react-redux';\nimport LoginFormContainer from '../session/login_form_container';\nimport SignupFormContainer from '../session/signup_form_container';\nimport \"./modal.css\"\n\nfunction Modal({modal, closeModal}) {\n  if (!modal) {\n    return null;\n  }\n  let component;\n  switch (modal) {\n    case 'login':\n      component = <LoginFormContainer />;\n      break;\n    case 'signup':\n      component = <SignupFormContainer />;\n      break;\n    default:\n      return null;\n  }\n  return (\n    <div className=\"modal-background\" onClick={closeModal}>\n      <div className=\"modal-child\" onClick={e => e.stopPropagation()}>\n        { component }\n      </div>\n    </div>\n  );\n}\n\nconst mstp = state => {\n  return {\n    modal: state.ui.modal\n  };\n};\n\nconst mdtp = dispatch => {\n  return {\n    closeModal: () => dispatch(closeModal())\n  };\n};\n\nexport default connect(mstp, mdtp)(Modal);","import React , { Component } from 'react'; \n// import S3FileUpload from 'react-s3'\nimport S3 from \"react-aws-s3\";\nimport { awsAccessKeyId, awsSecretAccessKey } from \"../config1/keys\";\n\nimport './photo.css'\n\nconst config = {\n  bucketName: \"view-finder\",\n  //dirName: \"media\" /* optional */,\n  region: \"us-west-1\",\n  accessKeyId: awsAccessKeyId,\n  secretAccessKey: awsSecretAccessKey,\n  //s3Url: \"https:/your-custom-s3-url.com/\" /* optional */,\n};\n\nconst ReactS3Client = new S3(config);\nclass Photoapp2 extends Component {\n  constructor() {\n    super(); \n    this.upload = this.upload.bind(this)\n  }\n\n  upload(e) {\n    console.log(e.target.files[0]);\n    ReactS3Client.uploadFile( e.target.files[0] , e.target.files.name)\n      .then( (data) => {\n        console.log(data)\n      })\n      .catch( (err)=>{\n        alert(err)\n      })\n  }\n\n  render() {\n    return (\n      <div className=\"photo-upload-wrapper\">\n        <div className=\"photo-upload-container\">\n          <div className=\"photo-upload\">\n            <h3 className=\"photo-text\">Upload photo</h3>\n          </div>\n          <input type=\"file\" onChange={this.upload} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Photoapp2; \n","import React from \"react\";\nimport { AuthRoute, ProtectedRoute } from \"../util/route_util\";\nimport { Switch, Route } from \"react-router-dom\";\nimport NavBarContainer from \"./nav/navbar_container\";\n\nimport CommentsContainer from \"./comments/comments_container\";\nimport MainPage from \"./main/main_page\";\nimport ProfileContainer from \"./profile/profile_container\";\nimport CommentComposeContainer from \"./comments/comment_compose_container\";\nimport Footer from \"./footer/footer\"\nimport Modal from \"./modal/modal\"\n\n\nimport PhotoApp2 from './photoapp2'\n\nconst App = () => (\n  <div>\n    <Modal/>\n    <NavBarContainer />\n    {/* <PhotoApp2 /> */}\n    <Switch>\n      <Route exact path=\"/\" component={MainPage} />\n      <ProtectedRoute exact path=\"/\" component={CommentsContainer} />\n      {/* <ProtectedRoute exact path=\"/comments\" component={CommentsContainer} /> */}\n      <ProtectedRoute exact path=\"/\" component={ProfileContainer} />\n      {/* <ProtectedRoute exact path=\"/profile\" component={ProfileContainer} /> */}\n      <ProtectedRoute\n        exact\n        path=\"/new_comment\"\n        component={CommentComposeContainer}\n      />\n    </Switch>\n    <Footer/>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport App from './app';\n\nconst Root = ({ store }) => (\n  <Provider store={ store }>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>\n);\n\nexport default Root;","import { RECEIVE_CURRENT_USER, \n         RECEIVE_USER_LOGOUT, \n         RECEIVE_USER_SIGN_IN } from '../actions/session_actions';\n\nconst initialState = {\n  isAuthenticated: false,\n  user: {}\n};\n\nconst sessionReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case RECEIVE_CURRENT_USER:\n      return {\n        ...state,\n        isAuthenticated: !!action.currentUser,\n        user: action.currentUser\n      };\n    case RECEIVE_USER_LOGOUT:\n      return {\n        isAuthenticated: false,\n        user: undefined\n      };\n    case RECEIVE_USER_SIGN_IN:\n      return {\n        ...state,\n        isSignedIn: true\n      }\n    default:\n      return state;\n  }\n}\n\nexport default sessionReducer;","import {\n  RECEIVE_SESSION_ERRORS,\n  RECEIVE_CURRENT_USER,\n} from '../actions/session_actions';\n\nconst _nullErrors = [];\n\nconst SessionErrorsReducer = (state = _nullErrors, action) => {\n  Object.freeze(state);\n  switch(action.type) {\n    case RECEIVE_SESSION_ERRORS:\n      return action.errors;\n    case RECEIVE_CURRENT_USER:\n      return _nullErrors;\n    default:\n      return state;\n  }\n};\n\nexport default SessionErrorsReducer;","import { combineReducers } from 'redux';\n\nimport SessionErrorsReducer from './session_errors_reducer';\n\nexport default combineReducers({\n  session: SessionErrorsReducer\n});","import {\n  RECEIVE_COMMENTS,\n  RECEIVE_USER_COMMENTS,\n  RECEIVE_NEW_COMMENT,\n} from \"../actions/comment_actions\";\n\nconst CommentsReducer = (\n  state = { all: {}, user: {}, new: undefined },\n  action\n) => {\n  Object.freeze(state);\n  let newState = Object.assign({}, state);\n  switch (action.type) {\n    case RECEIVE_COMMENTS:\n      newState.all = action.comments.data;\n      return newState;\n    case RECEIVE_USER_COMMENTS:\n      newState.user = action.comments.data;\n      return newState;\n    case RECEIVE_NEW_COMMENT:\n      newState.new = action.comment.data;\n      return newState;\n    default:\n      return state;\n  }\n};\n\nexport default CommentsReducer;\n","import {RECEIVE_VIEWS, RECEIVE_FULL_VIEW_DATA} from \"../actions/view_actions\";\n\nconst ViewsReducer = (state = {\n  mapDisplay: {},\n  sidebar: {},\n  focusId: null,\n}, action) => {\n  Object.freeze(state);\n  let newState = {};\n  switch (action.type) {\n    case RECEIVE_VIEWS:\n      newState = Object.assign({},state);\n      newState.mapDisplay = action.geoJSON;\n      return newState;\n    case RECEIVE_FULL_VIEW_DATA:\n      newState = Object.assign({},state);\n      newState.sidebar = action.view;\n      newState.focusId = action.view._id;\n      return newState;\n    default:\n      return state;\n  }\n}\n\nexport default ViewsReducer;","import { combineReducers } from 'redux';\n\nimport modal from './modal_reducer';\n\nexport default combineReducers({\n  modal\n});","import { OPEN_MODAL, CLOSE_MODAL } from '../actions/modal_actions';\n\nexport default function modalReducer(state = null, action) {\n  switch (action.type) {\n    case OPEN_MODAL:\n      return action.modal;\n    case CLOSE_MODAL:\n      return null;\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport session from \"./session_reducer\";\nimport errors from \"./errors_reducer\";\nimport comments from \"./comments_reducer\";\nimport views from \"./views_reducer\";\nimport ui from \"./ui_reducer\";\n\nconst RootReducer = combineReducers({\n  errors,\n  session,\n  comments,\n  views,\n  ui\n});\n\nexport default RootReducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from '../reducers/root_reducer';\n\nconst configureStore = (preloadedState = {}) => (\n  createStore(\n    rootReducer,\n    preloadedState,\n    applyMiddleware(thunk)\n  )\n);\n\nexport default configureStore;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './components/root';\nimport configureStore from './store/store';\nimport jwt_decode from 'jwt-decode';\nimport { setAuthToken } from './util/session_api_util';\nimport { logout } from './actions/session_actions';\nimport \"./index.css\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let store;\n\n  if (localStorage.jwtToken) {\n    setAuthToken(localStorage.jwtToken);\n\n    const decodedUser = jwt_decode(localStorage.jwtToken);\n    const preloadedState = { session: { isAuthenticated: true, user: decodedUser } };\n    \n    store = configureStore(preloadedState);\n\n    const currentTime = Date.now() / 1000;\n\n    if (decodedUser.exp < currentTime) {\n      store.dispatch(logout());\n      window.location.href = '/login';\n    }\n  } else {\n    store = configureStore({});\n  }\n  const root = document.getElementById('root');\n  // document.body.style = \"background: #B6A328\";\n  document.body.style =\n    \"background-image: url(https://view-finder.s3.us-west-1.amazonaws.com/01_SF_GoldenGate.JPG\";\n \n\t\n// background-blend-mode: screen;\n\n  ReactDOM.render(<Root store={store} />, root);\n});","if (process.env.NODE_ENV === 'production') {\n  module.exports = require('./keys_prod1');\n} else {\n  module.exports = require('./keys_dev1');\n}\n"],"sourceRoot":""}